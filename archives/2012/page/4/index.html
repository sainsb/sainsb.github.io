<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 4 | Archives: 2012 | </title>
  <meta name="author" content="Che Geovara">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="null"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon" type="image/x-ico">
  <link rel="alternate" href="/atom.xml" title="null" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <img src='//sainsb.github.io/blog_logo.png' style='margin:15px;'/>
  <h2 class="subtitle"></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="http://sainsb.github.io">Home</a></li>
    
      <li><a href="http://sainsb.github.io/archives">Archives</a></li>
    
      <li><a href="http://sainsb.github.io/about">About</a></li>
    
      <li><a href="http://sainsb.github.io/atom.xml">RSS</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2012</h2>


  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-04-12T04:23:59.000Z"><a href="/2012/04/11/arcpy-to-list-services/">Apr 11 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/04/11/arcpy-to-list-services/">Arcpy to list services</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Short, sweet snippet:</p>
<pre lang="python">
import arcpy
serviceList = arcpy.mapping.ListMapServices("https://myserver/arcgis/services","myserver")
for serviceName in serviceList:
    print serviceName
</pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-04-11T03:49:57.000Z"><a href="/2012/04/10/quick-python-urllib-snippet/">Apr 10 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/04/10/quick-python-urllib-snippet/">Quick Python urllib snippet</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Just a quick snip to post params to a url:</p>
<pre lang="python">
import urllib, urllib2
url = 'http://www.myspecialplace.com'
values = {'pw' : 'foo',
          'userName' : 'bar'}

data = urllib.urlencode(values)
req = urllib2.Request(url, data)
response = urllib2.urlopen(req)
print response.geturl()
print response.info()
the_page = response.read()
print the_page
</pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-04-10T02:54:20.000Z"><a href="/2012/04/09/welcome-to-git/">Apr 9 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/04/09/welcome-to-git/">Welcome to Git</a></h1>
  

    </header>
    <div class="entry">
      
        <p>This will be my attempt to document getting a VS2010 project setup and running with Git.</p>
<p>Get your Git structure in place:<br>I’m using <a href="http://code.google.com/p/msysgit/" target="_blank" rel="external">MsysGit</a>, <a href="http://code.google.com/p/gitextensions/" target="_blank" rel="external">GitExtensions</a>, and <a href="http://gitscc.codeplex.com/" target="_blank" rel="external">Git Source Control Provider</a> to make the magic happen.  I won’t go into the configuration details behind these three mainly since I don’t really understand them.  Until the abstraction leaks, we’ll run with it ;)<br><strong>So, in VS 2010, create a new project:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step1.png" target="_blank" rel="external"><img src="/images/d0b4acb3179eaaaf702c78e4cb45e8c4bbec02f3.png" alt="" title="step1"></a><br><strong>Step 2 - Intialize your repository:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step2.png" target="_blank" rel="external"><img src="/images/d46d96271b38767f50bf3c879b98c47cd8d76974.png" alt="" title="step2"></a><br><strong>Step 3 - Choose repository type:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step3.png" target="_blank" rel="external"><img src="/images/8351653e28ce978693720f77a22a8076c00e721e.png" alt="" title="step3"></a><br><strong>Step 4 - Celebrate your milestone:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step4.png" target="_blank" rel="external"><img src="/images/f44795065a0a0f7b1cb3ae5733e21ffb3a2553f4.png" alt="" title="step4"></a><br><strong>Step 5 - Refresh your Solution Explorer to see the status of your files:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step6.png" target="_blank" rel="external"><img src="/images/039f7ab38fde2e27fd20e812c4c0a7c70f0758d9.png" alt="" title="step6"></a><br><strong>Steps 6 and 7 - Stage and commit your baseline code:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step5.png" target="_blank" rel="external"><img src="/images/12b14e6a54dd3326c43f79f386bd6da5462027d9.png" alt="" title="step5"></a><br><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step71.png" target="_blank" rel="external"><img src="/images/e2bdc37949db445129653312f50dd963379f9987.png" alt="" title="step7"></a><br><strong>Step 8 - Assuming you were able to commit, refresh solution explorer:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step81.png" target="_blank" rel="external"><img src="/images/a3518c7874f987bfbe564ca313166e31d50a0fca.png" alt="" title="step8"></a><br><strong>Step 9 - Create a new repo on the remote server, we’ll use GitHub for an example:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/Step9.png" target="_blank" rel="external"><img src="/images/23123bb6d8bca1430552b807c3f56aa72cca86dc.png" alt="" title="Step9"></a><br><strong>Step 10 - Push up to remote:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step11.png" target="_blank" rel="external"><img src="/images/cc9fd1cfbd0a0535af26d5abae649f73b40ea7ee.png" alt="" title="step11"></a><br><strong>Step 11 - Use your new projects uri:</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step12.png" target="_blank" rel="external"><img src="/images/499a0498c0b4002d66a9d8815866d6bd96891f6d.png" alt="" title="step12"></a><br><strong>Step 12 - Milestone celebration!</strong></p>
<p><a href="http://blog.guerrillagis.net/wp-content/uploads/2012/04/step13.png" target="_blank" rel="external"><img src="/images/948fd75d73887c63424b91d71f719048ae869b71.png" alt="" title="step13"></a><br><strong>Step 13 - Reaffirm yourself</strong></p>
<iframe width="420" height="315" align="middle" src="http://www.youtube.com/embed/-DIETlxquzY" frameborder="0" allowfullscreen></iframe>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-04-09T12:09:31.000Z"><a href="/2012/04/09/mysql-geometry-to-shapefile/">Apr 9 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/04/09/mysql-geometry-to-shapefile/">Converting MySQL geometry to Shapefile</a></h1>
  

    </header>
    <div class="entry">
      
        <p>I was recently faced with the task of converting MySQL Geometry  (stored in a remote db) as WKB to a shapefile to an ESRI File Geodatabase.<br>Since it’s a remote database stored with my web hosting provider access is rather limited (e.g no console access). The dataset is ~33,000 features with 20-some fields - calling a dump from the phpMyAdmin web interface works but returns WKB. I tried reading this stuff with Shapely, but it wasn’t having it…messed around with encodings to no avail.  And while one can export the geometry as text, my dump limits are thus severely limited to ~2000 records per export (phpMyAdmin has a 5mb limit per export file as I recall).  I used to suffer through this when time was less valuable and I was less competent but not no more.</p>
<p>I decided to extract the geometry separately and join the attribution in later.  This made coding the automated extraction a little easier.  So how did I do it?  I went out and grabbed the <a href="http://www.mysql.com/downloads/connector/net/" target="_blank" rel="external">MySQL Connector for .NET</a>, threw in my credz and went to town 5 at a time so as not to stress the server.</p>
<pre lang="csharp">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using MySql.Data.MySqlClient;
using System.Web;
using System.IO;
using System.Threading;

namespace myBitchinMySQLExtractor
{
    class Program
    {
        const string MyConString = "connectionStuff";
        const int numRecords = 35000;
        static void Main(string[] args)
        {
            for (int t = 0; t < numRecords; t += 5)
            {
                try
                {
                    getData(t);
                }
                catch (Exception ex)
                {
                    try
                    {
                        Thread.Sleep(10000);
                        getData(t);
                    }
                    catch (Exception exc)
                    {
                        Console.Write("Lost connection at " + t);
                    }
                }
                Thread.Sleep(3000);
            }
        }

        private static void getData(int t)
        {
            var connection = new MySqlConnection(MyConString);
            MySqlCommand command = connection.CreateCommand();
            MySqlDataReader Reader;
            connection.Open();
            command.CommandText = "SELECT ID, astext(geometry)"+
                "as geom from table where 1 limit " + t + ",5;";

            Reader = command.ExecuteReader();
            while (Reader.Read())
            {
                string thisrow = "";
                for (int i = 0; i < Reader.FieldCount; i++)
                {
                    var s = Reader.GetValue(i);
                    if (s.GetType() != typeof(byte[]))
                    {
                        thisrow += s.ToString() + ", ";
                    }
                    else
                    {
                        thisrow += Encoding.UTF8.GetString((byte[])s, 0, ((byte[])s).Length);
                    }
                }
                using (var sw = new StreamWriter("C:/myFile.txt", true))
                {
                    sw.WriteLine(thisrow);
                }
                Console.WriteLine(thisrow + Environment.NewLine + Environment.NewLine);
            }
            connection.Close();
        }
    }
}
</pre>

<p>Ok, so now I had a big-ass file full of ids and geometry in WKT.  What next? <a href="http://pypi.python.org/pypi/Shapely" target="_blank" rel="external">Shapely</a> and <a href="http://pypi.python.org/pypi/geojson/" target="_blank" rel="external">GeoJSON</a> to the rescue. </p>
<pre lang="python">
from shapely.wkt import loads
from geojson import dumps
import re
import sys
import string

output=r"C:/myOutput.txt"
input=r"C:/myInput.txt"
f = open(output, "a")
f.write("{ \"type\": \"FeatureCollection\",\"features\": [")

def processWKT(id, line):
    x = loads(line)
    y = dumps(x)
    f.write("{\"type\": \"Feature\",\"geometry\": " +
                y + ", \"properties\" : {\"id\" :\"" + id+"\"}},\n")

file = open(input, "r")

for line in file.read().split("\n"):
    #parse the id out
    #grab everything up to the first comma
    s=re.match("[^,]*,\s",line)
    t=s.group()
    l = string.replace(line,t, "")
    y = string.replace(t,", ","")

    processWKT(y,l)
    print y

f.write("]}")
file.close()
f.close()
</pre>

<p>Ok, so now after I go in and delete a comma in the last line, I have a valid geojson file with all my IDs and geometry.  What next? <a href="http://www.gdal.org/" target="_blank" rel="external">GDAL</a>.  Converting the geojson to a shapefile is a one-liner with ogr2ogr:</p>
<pre lang="python">
ogr2ogr -f "ESRI Shapefile" c:/myshapes.shp c:/myOutput.js OGRGeoJSON
</pre>

<p>So, yes, it is a painful process but these three steps helped to expedite the extraction of data from a remote MySQL db, convert it to the middle-ground format of GeoJSON, and on to a shapefile using GDAL.  All, with free and open-source libraries and platforms. Since my data comprises fields of &gt; 256 characters, I’ll convert the shapefile to a file geodatabase and then populate the attribution using ESRI tools.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-04-02T06:15:07.000Z"><a href="/2012/04/01/weekend-notes-on-the-physical/">Apr 1 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/04/01/weekend-notes-on-the-physical/">Weekend notes on the physical.</a></h1>
  

    </header>
    <div class="entry">
      
        <p>The weather being such fucking shit here lately it’s given me a lot of time to devote to my growing electronics hobby. While voltage and amperage seem like simple concepts, I have to admit, even with the water analogies, the concept of amperage has, for the most part, eluded me. A few things that clicked this weekend were:</p>
<ul>
<li>Amperage is a rate. not a force.</li>
<li>Amperage is “the same at all points in a similar circuit.  It has to be, because the flow of electrons has no place to go” (Platt, 22).</li>
<li>Car batteries are designed so as to sustain massive draw.  Hundreds of amps may be required to spin the flywheel.</li>
<li>Current generates a magnetic force. Hence the I in Ohm’s Law (V=I*R) refers to inductance.</li>
<li>Conversely, a magnetic force can generate current. You can actually light up an LED by passing a high-powered magnet through the center of a coil.<br>I’ve been wondering lately about using microprocessors with external power sources and found this <a href="http://itp.nyu.edu/physcomp/Tutorials/HighCurrentLoads" target="_blank" rel="external">great tutorial</a>.</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-03-23T23:48:06.000Z"><a href="/2012/03/23/resharper-and-epsilon/">Mar 23 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/03/23/resharper-and-epsilon/">Resharper and Epsilon</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Coding away this morning with resharper and came across this:</p>
<p><pre lang="csharp">if(datagrid.Width==0)<br>{<br>//do stuff<br>}</pre><br>In the conditional Resharper warns me to “<span style="color: #ff0000;">Fix floating point numbers comparing. Compare a difference with Epsilon</span>.”<br>When I accept the suggestion I get this:</p>
<p><pre lang="csharp">if (Math.Abs(wndDatagrid.Width - 0) &lt; EPSILON)<br>{<br>//Do stuff<br>}</pre><br>Too bad the EPSILON constant is not defined…<br>JetBrains explains it this way:</p>
<blockquote>
<p>Using the == operator to compare floating-point numbers is, generally, a bad idea. The problem arises from the fact that, typically, results of calculations have to be ‘fitted’ into floating-point representation, which does not always matched the perceived reality of what result should be produced.</p>
<p>For example, suppose you take a root of -4 using var root = Complex.Sqrt(new Complex(-4, 0)). Then, you decide to ensure that the real part of the result is 0 (zero), by asserting that root.Real == 0.0. Unfortunately, the actual result of the calculation is (1.22460635382238E-16, 2), so the comparison will, predictably, fail.</p>
<p>In order to do these comparisons correctly, you need to specify a tolerance, i.e., a value to indicate by how much the result can diverge from the intended value. Then, the comparison above can be rewritten, e.g., as Math.Abs(root.Real) &lt; 1.E-10. Similarly, comparisons between two values can take the form of Math.Abs(x - y) &lt; tolerance. The tolerance value really depends on the precision of the calculations being performed but, in most cases, should be at least the Epsilon value (float.Epsilon, double.Epsilon, and so on). The Epsilon is a constant that denotes the smallest non-zero value that can be represented with the type of floating number you are using. Please note that, in the majority of cases, the Epsilon value is too low to be used as a reliable tolerance value.<br>Learn something new everyday.</p>
</blockquote>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-03-22T06:49:55.000Z"><a href="/2012/03/21/rounding-coordinates-with-a-regex/">Mar 21 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/03/21/rounding-coordinates-with-a-regex/">Storing geodata - Shapefile vs. Human Readable formats</a></h1>
  

    </header>
    <div class="entry">
      
        <p>suppose you work in a state plane geography that uses feet as a unit, and now suppose that you work with shapefiles that store coordinates as <a href="http://forums.esri.com/Thread.asp?c=93&amp;f=986&amp;t=234634" target="_blank" rel="external">double precision floating point values</a> resulting in numbers looking something like this:</p>
<pre lang="python">
[[ 7625592.5, 671988.93766404688 ], [ 7625597, 672003.31266404688 ],
 [ 7625601.5, 672017.81266404688 ], [ 7625605, 672032.375 ]]
</pre>
Talk about false precision.
Still with me? Ok, so suppose you deal with data in human readable formats here and there, such as GeoJson, ESRIJson, what have you...  <del datetime="2012-03-22T16:06:35+00:00">Long story short you can probably get away with rounding these numbers to save a little space.</del>
<font color="red">

### Bullshit alert!!

yes, shapefiles store coordinates as double precision floats.. This equates to 64 bits (8 bytes per coordinate value).  Yes, that's a lot, however, storing geodata in human readable format equates to, assuming your text file is ascii based, a byte per digit...that means that while the above snip would equate to 64 bytes in the shapefile, in human-readable text it would equate to more than twice that.  Lesson: storing values as strings is _almost_ always more expensive.
</font>

**round with zero decimals**
\s(\d+)\.\d+, replace with \1 and you get:
<pre lang="python">
[[7625592,671988 ], [ 7625597,672003 ],
 [7625601,672017 ], [ 7625605,672032 ]]
</pre>

<p><strong>round to two decimals</strong><br>\s(\d+.\d\d)\d+, replace with \1 and you get:</p>
<pre lang="python">
[[ 7625592.5,671988.93 ], [ 7625597,672003.31 ],
 [ 7625601.5,672017.81 ], [ 7625605,672032.37 ]]
</pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-03-21T22:27:13.000Z"><a href="/2012/03/21/merging-csv-files-in-python/">Mar 21 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/03/21/merging-csv-files-in-python/">Merging CSV files in Python</a></h1>
  

    </header>
    <div class="entry">
      
        <p>I can barely justify noting such a simple script but I’m betting I’ll want to reference it again.<br>Basically I’ve got 225 csv files titled by zip code that I want to merge into one file.  On a side note I am blown away by how quickly Python accomplishes this.  I can barely blink before it merges 225 files. fun.</p>
<pre lang="python">
fout=open("c:/myCSVFiles/out.csv","a")

zips=[12345,54321 ] # There are actually 225 values in this array

for zip in zips:
    f = open("C:/myCSVFiles/"+str(zip)+".csv")
    f.next() # skip the header
    for line in f:
         fout.write(line)
    f.close() # not really needed
fout.close()
print "done"
</pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-03-21T05:02:12.000Z"><a href="/2012/03/20/present-value-and-payment-functions-for-r-dorks/">Mar 20 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/03/20/present-value-and-payment-functions-for-r-dorks/">I can haz R Time Value of Money</a></h1>
  

    </header>
    <div class="entry">
      
        <pre lang="python">
PV<-function(pmnt) {="" i=".00625" per="360" pmt="(pmnt/12)*.3" v="(1+i)^(-per)" pv="pmt*((1-v)/i)" #annuity="" due="" so="" multiply="" the="" result="" by="" 1+interest="" rate="" return(round(pv*(1+i),="" digits="0))" }="" <="" pre="">

<p>Payment function:</p>
<pre lang="python">
PMT <- function(amt,="" inc)="" {="" i=".00625" per="360" v="(1-(1/(1+i)^per))/i" return((amt="" v)="" (inc="" 12))="" }="" <="" pre=""></-></pre></-function(pmnt)></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-03-16T23:52:41.000Z"><a href="/2012/03/16/connecting-to-sde-with-arcobjects-c/">Mar 16 2012</a></time>
      
      
  
    <h1 class="title"><a href="/2012/03/16/connecting-to-sde-with-arcobjects-c/">Connecting to SDE with ArcObjects C++</a></h1>
  

    </header>
    <div class="entry">
      
        <pre lang="c">
HRESULT connectToSDE(BSTR server, 
                     BSTR instance, 
                     BSTR user, 
                     BSTR passwd, 
                     BSTR database,
                     BSTR version,
                     IWorkspace ** outWorkspace)
{
  if (outWorkspace == NULL)
    return E_POINTER;

  // create the property set for the connection parameters
  IPropertySetPtr ipPropertySet;
  ipPropertySet.CreateInstance(CLSID_PropertySet);

  // configure the propertyset
  ipPropertySet->SetProperty(CComBSTR("SERVER"),    CComVariant(server));
  ipPropertySet->SetProperty(CComBSTR(L"INSTANCE"), CComVariant(instance));
  ipPropertySet->SetProperty(CComBSTR(L"DATABASE"), CComVariant(database));
  ipPropertySet->SetProperty(CComBSTR(L"USER"),     CComVariant(user));
  ipPropertySet->SetProperty(CComBSTR(L"PASSWORD"), CComVariant(passwd));
  ipPropertySet->SetProperty(CComBSTR(L"VERSION"),  CComVariant(version));

  // open workspace
  IWorkspaceFactoryPtr ipWorkspaceFactory;
  ipWorkspaceFactory.CreateInstance(CLSID_SdeWorkspaceFactory);
  return ipWorkspaceFactory->Open(ipPropertySet, NULL, outWorkspace);
}
</pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
    <a href="/archives/2012/page/3/" class="alignleft prev">Prev</a>
  
  
    <a href="/archives/2012/page/5/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:sainsb.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/ArcGIS-Server/">ArcGIS Server</a><small>32</small></li>
  
    <li><a href="/categories/C/">C#</a><small>2</small></li>
  
    <li><a href="/categories/CNET/">C#.NET</a><small>39</small></li>
  
    <li><a href="/categories/ArcGIS-Server/CNET/">C#.NET</a><small>5</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/">General GIS Warfare</a><small>80</small></li>
  
    <li><a href="/categories/ArcGIS-Server/General-GIS-Warfare/">General GIS Warfare</a><small>4</small></li>
  
    <li><a href="/categories/CNET/General-GIS-Warfare/">General GIS Warfare</a><small>10</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/Hardware/">Hardware</a><small>1</small></li>
  
    <li><a href="/categories/Hardware/">Hardware</a><small>6</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/Oracle/">Oracle</a><small>2</small></li>
  
    <li><a href="/categories/Oracle/">Oracle</a><small>12</small></li>
  
    <li><a href="/categories/ArcGIS-Server/Python/">Python</a><small>1</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/Python/">Python</a><small>3</small></li>
  
    <li><a href="/categories/CNET/Python/">Python</a><small>2</small></li>
  
    <li><a href="/categories/CNET/General-GIS-Warfare/Python/">Python</a><small>2</small></li>
  
    <li><a href="/categories/Python/">Python</a><small>17</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/R/">R</a><small>1</small></li>
  
    <li><a href="/categories/CNET/Python/R/">R</a><small>1</small></li>
  
    <li><a href="/categories/CNET/General-GIS-Warfare/R/">R</a><small>1</small></li>
  
    <li><a href="/categories/R/">R</a><small>7</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/RegEx/">RegEx</a><small>2</small></li>
  
    <li><a href="/categories/RegEx/">RegEx</a><small>3</small></li>
  
    <li><a href="/categories/CNET/RegEx/">RegEx</a><small>1</small></li>
  
    <li><a href="/categories/Snippets++/">Snippets++</a><small>21</small></li>
  
    <li><a href="/categories/CNET/General-GIS-Warfare/R/Snippets++/">Snippets++</a><small>1</small></li>
  
    <li><a href="/categories/CNET/General-GIS-Warfare/Snippets++/">Snippets++</a><small>2</small></li>
  
    <li><a href="/categories/CNET/Snippets++/">Snippets++</a><small>7</small></li>
  
    <li><a href="/categories/CNET/Python/Snippets++/">Snippets++</a><small>1</small></li>
  
    <li><a href="/categories/CNET/Python/R/Snippets++/">Snippets++</a><small>1</small></li>
  
    <li><a href="/categories/R/Snippets++/">Snippets++</a><small>3</small></li>
  
    <li><a href="/categories/Python/Snippets++/">Snippets++</a><small>3</small></li>
  
    <li><a href="/categories/ArcGIS-Server/Snippets++/">Snippets++</a><small>1</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/Snippets++/">Snippets++</a><small>2</small></li>
  
    <li><a href="/categories/CNET/General-GIS-Warfare/Python/Snippets++/">Snippets++</a><small>1</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/Python/Snippets++/">Snippets++</a><small>2</small></li>
  
    <li><a href="/categories/Uncategorized/">Uncategorized</a><small>25</small></li>
  
    <li><a href="/categories/Snippets++/Uncategorized/">Uncategorized</a><small>1</small></li>
  
    <li><a href="/categories/CNET/Uncategorized/">Uncategorized</a><small>1</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/Uncategorized/">Uncategorized</a><small>1</small></li>
  
    <li><a href="/categories/Web-Hackery/">Web Hackery</a><small>5</small></li>
  
    <li><a href="/categories/ArcGIS-Server/WebHackery/">WebHackery</a><small>4</small></li>
  
    <li><a href="/categories/CNET/General-GIS-Warfare/WebHackery/">WebHackery</a><small>2</small></li>
  
    <li><a href="/categories/Snippets++/WebHackery/">WebHackery</a><small>2</small></li>
  
    <li><a href="/categories/CNET/Uncategorized/WebHackery/">WebHackery</a><small>1</small></li>
  
    <li><a href="/categories/WebHackery/">WebHackery</a><small>12</small></li>
  
    <li><a href="/categories/CNET/WebHackery/">WebHackery</a><small>3</small></li>
  
    <li><a href="/categories/General-GIS-Warfare/WebHackery/">WebHackery</a><small>4</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2014/06/12/python-field-calculate-sequence/">Python field calculate sequence</a>
      </li>
    
      <li>
        <a href="/2014/05/19/erd-relationship-symbols/">ERD Relationship Symbols</a>
      </li>
    
      <li>
        <a href="/2014/05/08/positive-lookahead-assertion/">Positive lookahead assertion</a>
      </li>
    
      <li>
        <a href="/2014/04/22/python-iterate-files-weak-sauce/">Python iterate files (weak sauce)</a>
      </li>
    
      <li>
        <a href="/2014/04/21/python-cheats/">Python cheats</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/arcgis/">arcgis</a><small>1</small></li>
  
    <li><a href="/tags/arcpy/">arcpy</a><small>1</small></li>
  
    <li><a href="/tags/python/">python</a><small>1</small></li>
  
    <li><a href="/tags/regex/">regex</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Che Geovara
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>